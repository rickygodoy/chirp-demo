<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chirp Demo</title>
    <link rel="stylesheet" href="{{ url_for('static', path='style.css') }}" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <div class="header-container">
        <h1>Chirp Model Showcase</h1>
      </div>
    </header>

    <main class="main-content">
      <div id="singing-contest" class="tab-pane active">
        <div class="main-container">
          <div class="content-card">
            <h2>The Chirp Singing Contest</h2>
            <p>
              You have to sing precisely on top of lyrics to earn points
              (accuracy, words confidence and timing).
            </p>
            <div class="interactive-area">
              <p class="prompt">
                Press 'Start Singing' and the microphone is yours! Good Luck!
              </p>
              <button id="caption-button" disabled>Start Singing</button>
              <div class="song-selection-container">
                <div id="song-select" class="custom-select">
                  <div class="select-trigger">
                    <span>Select a song first</span>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="arrow"
                    >
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </div>
                  <div class="options">
                    <div class="option" data-value="aranha">A dona aranha</div>
                    <div class="option" data-value="atirei">
                      Atirei o pau no gato
                    </div>
                    <div class="option" data-value="cravo">
                      Cravo brigou com a rosa
                    </div>
                    <div class="option" data-value="peixe">Peixe vivo</div>
                    <div class="option" data-value="sapo">Sapo Cururu</div>
                    <div class="option" data-value="jingle">Jingle Bells</div>
                    <div class="option" data-value="spider">
                      Itsy-bitsy spider
                    </div>
                    <div class="option" data-value="wish">Merry Christmas</div>
                    <div class="option" data-value="old">
                      Old MacDonald had a farm
                    </div>
                  </div>
                </div>
              </div>
              <div id="timer-container" class="hidden">
                <div id="countdown-text"></div>
                <div id="progress-bar-container">
                  <div id="progress-bar"></div>
                </div>
              </div>
              <pre id="refrain-output"></pre>
              <pre id="caption-output"></pre>
              <div id="final-score-output"></div>
            </div>
          </div>

          <aside class="leaderboard-card">
            <h2>Highscores</h2>
            <table class="highscore-table">
              <thead>
                <tr>
                  <th>Rank</th>
                  <th>Name</th>
                  <th>Score</th>
                </tr>
              </thead>
              <tbody id="high-scores-body">
                <!-- Scores will be inserted here by script.js -->
              </tbody>
            </table>
          </aside>
        </div>
      </div>
    </main>

    <!-- Modal for High Score Name Input -->
    <div id="highscore-modal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <h2>New High Score!</h2>
        <p id="modal-score-text"></p>
        <input
          type="text"
          id="player-name-input"
          placeholder="Enter your name"
          maxlength="20"
        />
        <div class="modal-buttons">
          <button id="modal-save-button">Save</button>
          <button id="modal-cancel-button">Cancel</button>
        </div>
      </div>
    </div>

    <script src="{{ url_for('static', path='script.js') }}"></script>
  </body>
</html>
